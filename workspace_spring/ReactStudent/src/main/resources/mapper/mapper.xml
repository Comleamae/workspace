<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 해당 파일에 모든 쿼리문을 작성 -->
<mapper namespace="stuMapper">
    <resultMap id="student" type="com.green.ReactStudent.vo.StudentVO">
        <result column="STU_NUM" property="stuNum"/>
        <result column="STU_NAME" property="stuName"/>
        <result column="KOR_SCORE" property="korScore"/>
        <result column="ENG_SCORE" property="engScore"/>
        <result column="MATH_SCORE" property="mathScore"/>
        <result column="STU_AGE" property="stuAge"/>
        <result column="STU_TELL" property="stuTell"/>
        <result column="STU_ADDR" property="stuAddr"/>
    </resultMap>

    <!--전체 학생목록을 얻어오는 쿼리-->
    <select id="getAllStu" resultMap="student">
        SELECT
            STU_NUM
            , STU_NAME
            , KOR_SCORE
            , ENG_SCORE
            , MATH_SCORE
        FROM
            REACT_STUDENT
    </select>

    <!--학생 한명의 상세 정보를 얻어오는 쿼리-->
    <select id="getOneStu" resultMap="student">
        SELECT
            *
        FROM
            REACT_STUDENT
        WHERE
            STU_NUM = #{stuNum}
    </select>

    <!--학생정보를 등록하는 쿼리-->
    <insert id="regStu">
        INSERT INTO REACT_STUDENT
        (
        STU_NAME
        , STU_AGE
        , STU_ADDR
        , STU_TELL
        , KOR_SCORE
        , ENG_SCORE
        , MATH_SCORE
        )
        VALUES
        (
        #{stuName}
        , #{stuAge}
        , #{stuAddr}
        , #{stuTell}
        , 0
        , 0
        , 0
        )
    </insert>

    <!--학생삭제 쿼리-->
    <delete id="delStu">
        DELETE FROM
            REACT_STUDENT
        WHERE STU_NUM = #{stuNum}
    </delete>

	<!--학생 세부 성적 조회-->
    <select id="score" resultMap="student">
        SELECT
            STU_NUM
            , KOR_SCORE
            , ENG_SCORE
            , MATH_SCORE
        FROM
            REACT_STUDENT
    </select>

    <!--학생 성적 수정-->
    <update id="upScore">
        UPDATE REACT_STUDENT
        SET
            KOR_SCORE = #{korScore}
            , ENG_SCORE = #{engScore}
            , MATH_SCORE = #{mathScore}
        WHERE STU_NUM = #{stuNum}
    </update>


</mapper>































